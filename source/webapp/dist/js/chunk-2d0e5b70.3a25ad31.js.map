{"version":3,"sources":["webpack:///./src/components/ComprehendKeyPhrases.vue?950d","webpack:///src/components/ComprehendKeyPhrases.vue","webpack:///./src/components/ComprehendKeyPhrases.vue?2bdd","webpack:///./src/components/ComprehendKeyPhrases.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","attrs","on","updateConfidence","_s","Confidence","key_phrases","fields","sortBy","scopedSlots","_u","key","fn","data","item","toFixed","staticRenderFns","name","components","Loading","isBusy","operator","computed","deactivated","console","log","activated","fetchAssetData","beforeDestroy","methods","fetch","method","status","response","res","hits","forEach","vm","push","component"],"mappings":"uHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,MAAM,CAACE,YAAY,WAAW,CAACN,EAAIO,GAAG,8BAA8BH,EAAG,MAAMA,EAAG,QAAQ,CAACI,MAAM,CAAC,KAAO,QAAQ,MAAQ,KAAK,IAAM,KAAK,IAAM,KAAK,KAAO,KAAKC,GAAG,CAAC,MAAQT,EAAIU,oBAAoBV,EAAIO,GAAG,SAASP,EAAIW,GAAGX,EAAIY,YAAY,KAAKR,EAAG,QAASJ,EAAU,OAAEI,EAAG,MAAM,CAACE,YAAY,WAAW,CAACF,EAAG,YAAY,GAAGA,EAAG,MAAM,CAACE,YAAY,WAAW,CAACF,EAAG,UAAU,CAACI,MAAM,CAAC,WAAa,GAAG,MAAQ,GAAG,MAAQR,EAAIa,YAAY,OAASb,EAAIc,OAAO,UAAUd,EAAIe,QAAQC,YAAYhB,EAAIiB,GAAG,CAAC,CAACC,IAAI,mBAAmBC,GAAG,SAASC,GAAM,MAAO,CAACpB,EAAIO,GAAG,aAAaP,EAAIW,IAA2B,EAAvBS,EAAKC,KAAKT,YAAgBU,QAAQ,IAAI,oBAAoB,MACntBC,EAAkB,G,goBC0CtB,OACEC,KAAM,aACNC,WAAY,CACVC,QAAJ,QAEEN,KALF,WAMI,MAAO,CACLR,WAAY,GACZG,OAAQ,cACRD,OAAQ,CACd,CAAQ,IAAR,aAAQ,UAAR,GACA,CAAQ,IAAR,aAAQ,UAAR,GACA,CAAQ,IAAR,cAAQ,UAAR,GACA,CAAQ,IAAR,YAAQ,UAAR,IAEMD,YAAa,GACbc,QAAQ,EACRC,SAAU,gBAGdC,SAAU,EAAZ,GACA,4BAEEC,YAAa,WACXC,QAAQC,IAAI,yBAA0B/B,KAAK2B,UAE3C3B,KAAKY,YAAc,IAErBoB,UAAW,WACTF,QAAQC,IAAI,uBAAwB/B,KAAK2B,UACzC3B,KAAKiC,kBAEPC,cAAe,WACblC,KAAKY,YAAc,IAErBuB,QAAS,CACP1B,iBADJ,SACA,GACM,KAAN,UACM,KAAN,eACM,KAAN,0BACM,KAAN,kBAEIwB,eAPJ,WAQM,IAAN,OACMG,MAAM,oCAAZ,oHACQC,OAAQ,QAChB,yBACA,kCACYlB,KAAMA,EACNmB,OAAQC,EAASD,WAE7B,kBACUE,EAAIrB,KAAKsB,KAAKA,KAAKC,SAAQ,SAAUtB,GACnCuB,EAAG/B,YAAYgC,KAAK,CAAhC,qIAEUD,EAAGjB,QAAS,WClGwU,I,YCO1VmB,EAAY,eACd,EACA/C,EACAwB,GACA,EACA,KACA,KACA,MAIa,aAAAuB,E","file":"js/chunk-2d0e5b70.3a25ad31.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"wrapper\"},[_vm._v(\"\\n    Confidence Threshold\"),_c('br'),_c('input',{attrs:{\"type\":\"range\",\"value\":\"90\",\"min\":\"55\",\"max\":\"99\",\"step\":\"1\"},on:{\"click\":_vm.updateConfidence}}),_vm._v(\"\\n    \"+_vm._s(_vm.Confidence)+\"%\"),_c('br')]),(_vm.isBusy)?_c('div',{staticClass:\"wrapper\"},[_c('Loading')],1):_c('div',{staticClass:\"wrapper\"},[_c('b-table',{attrs:{\"responsive\":\"\",\"fixed\":\"\",\"items\":_vm.key_phrases,\"fields\":_vm.fields,\"sort-by\":_vm.sortBy},scopedSlots:_vm._u([{key:\"cell(Confidence)\",fn:function(data){return [_vm._v(\"\\n        \"+_vm._s((data.item.Confidence * 1).toFixed(2))+\"\\n      \")]}}])})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div class=\"wrapper\">\n      Confidence Threshold<br>\n      <input\n        type=\"range\"\n        value=\"90\"\n        min=\"55\"\n        max=\"99\"\n        step=\"1\"\n        @click=\"updateConfidence\"\n      >\n      {{ Confidence }}%<br>\n    </div>\n    <div\n      v-if=\"isBusy\"\n      class=\"wrapper\"\n    >\n      <Loading />\n    </div>\n    <div\n      v-else\n      class=\"wrapper\"\n    >\n      <b-table\n        responsive\n        fixed\n        :items=\"key_phrases\"\n        :fields=\"fields\"\n        :sort-by=\"sortBy\"\n      >\n        <template v-slot:cell(Confidence)=\"data\">\n          {{ (data.item.Confidence * 1).toFixed(2) }}\n        </template>\n      </b-table>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Loading from '@/components/Loading.vue'\nimport { mapState } from 'vuex'\n\nexport default {\n  name: \"KeyPhrases\",\n  components: {\n    Loading\n  },\n  data() {\n    return {\n      Confidence: 90,\n      sortBy: \"BeginOffset\",\n      fields: [\n        { key: 'PhraseText', sortable: false },\n        { key: 'Confidence', sortable: true },\n        { key: 'BeginOffset', sortable: true },\n        { key: 'EndOffset', sortable: true },\n      ],\n      key_phrases: [],\n      isBusy: false,\n      operator: \"key_phrases\"\n    }\n  },\n  computed: {\n    ...mapState(['player']),\n  },\n  deactivated: function () {\n    console.log('deactivated component:', this.operator)\n    // clearing this value after every deactivation so we dont carry this huge amount of data in memory\n    this.key_phrases = []\n  },\n  activated: function () {\n    console.log('activated component:', this.operator)\n    this.fetchAssetData();\n  },\n  beforeDestroy: function () {\n    this.key_phrases = []\n  },\n  methods: {\n    updateConfidence (event) {\n        this.isBusy = true;\n        this.key_phrases = [];\n        this.Confidence = event.target.value;\n        this.fetchAssetData()\n    },\n    fetchAssetData () {\n      const vm = this;\n      fetch(process.env.VUE_APP_ELASTICSEARCH_ENDPOINT+'/_search?q=AssetId:'+this.$route.params.asset_id+' Confidence:>'+this.Confidence+' _index:miekey_phrases&default_operator=AND&size=100', {\n        method: 'get'\n      }).then(response =>\n        response.json().then(data => ({\n            data: data,\n            status: response.status\n          })\n        ).then(res => {\n          res.data.hits.hits.forEach(function (item) {\n            vm.key_phrases.push({ \"PhraseText\": item._source.PhraseText, \"Confidence\": item._source.Confidence, \"BeginOffset\": item._source.BeginOffset, \"EndOffset\": item._source.EndOffset})\n          });\n          vm.isBusy = false\n        })\n      );\n    }\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ComprehendKeyPhrases.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ComprehendKeyPhrases.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ComprehendKeyPhrases.vue?vue&type=template&id=4c7305e8&\"\nimport script from \"./ComprehendKeyPhrases.vue?vue&type=script&lang=js&\"\nexport * from \"./ComprehendKeyPhrases.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}